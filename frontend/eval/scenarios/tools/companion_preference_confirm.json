{
  "dataset_key": "tools",
  "id": "companion_preference_confirm",
  "description": "Companion should set a pending preference confirmation and then apply it (set_profile_confirm_pending -> apply_profile_fact).",
  "steps": [
    { "user": "Tu peux être plus direct avec moi, plutôt que doux ?" },
    { "user": "Direct." }
  ],
  "assertions": {
    "must_include_agent": ["companion"]
  },
  "mechanical_assertions": {
    "chat_state_temp_memory_paths_exist": [
      "user_profile_confirm"
    ],
    "chat_state_temp_memory_equals": {
      "user_profile_confirm.pending": null
    }
  }
}



